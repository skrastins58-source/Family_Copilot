# Diff Directory

This directory contains diff images for golden tests. When golden tests fail due to visual changes, the diff images show the comparison between the expected (golden) and actual test results.

## Purpose

The `diff/` directory serves as a parallel structure to the `goldens/` directory:

- **goldens/**: Contains the reference/expected images for visual tests
- **diff/**: Contains comparison images when tests fail or when changes are detected

## File Structure

Each golden test should have a corresponding file in this directory:

```
goldens/my_widget.png     ←→ diff/my_widget.png
goldens/golden_text.png   ←→ diff/golden_text.png
goldens/material_container.png ←→ diff/material_container.png
```

## When Diff Files Are Created

1. **Empty files**: Created automatically by the validation script to maintain structure
2. **Actual diff images**: Generated by Flutter testing framework when golden tests fail
3. **Manual creation**: Developers may create diff images for comparison purposes

## Validation

The golden test structure validation script (`scripts/validate_golden_structure.sh`) ensures:

- Each golden test has a corresponding diff file
- Missing diff files are created as empty placeholders
- The directory structure remains consistent

## CI/CD Integration

This directory is part of the golden test infrastructure that helps maintain visual consistency in the Family Copilot application. The validation runs as part of the CI/CD pipeline to ensure proper test structure.

## Notes

- Empty diff files indicate no current visual differences
- Non-empty diff files should be reviewed when golden tests fail
- This directory should be included in version control to maintain test structure